\documentclass{article}
\input{preamble.tex}
\input{watermark/watermark.tex}

\usepackage{fancyhdr}
\setlength{\headheight}{30pt} % Increase header height for more space
\setlength{\headsep}{20pt}    % Space between header and text
\pagestyle{fancy}
\fancyhf{}  % Clear default header/footer
\fancyhead[C]{\textbf{\nouppercase{\rightmark}}} % Centered bold section title
\fancyfoot[C]{\thepage}  % Centered page number in footer

% Update header marks so that only \section updates the header.
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\subsectionmark}[1]{}

\title{Discrete Mathematics 1 Lectures, Part 1}
\author{Tomasz Brengos \\  
Committers : Aliaksei Kudzelka, Mykhailo Moroz, Mihail Orlov}
\date{}

% Define custom commands for including lecture chapters:
% 1. For lectures that has sections:
\newcommand{\includelectureSub}[1]{%
  \begingroup
    \renewcommand{\section}{\subsection}%
    \input{chapters/#1.tex}%
  \endgroup
}

% 2. For lectures that does not have sections:
\newcommand{\includelectureNoHeader}[1]{%
  \begingroup
    \let\maketitle\relax%
    \input{chapters/#1.tex}%
  \endgroup
}

\begin{document}
\maketitle
\cleardoublepage % Space for book title and committers

\section{Counting (Combinatorics)}
Counting forms the basis of combinatorics. In these lectures we explore several counting rules, examples, and proofs.
\includelectureSub{Counting}

\section{Partitions and Stirling Numbers}
\includelectureSub{Partitions_StirlingNumbers}

\section{Inclusion-Exclusion Principle}
\includelectureNoHeader{Inclusion_Exclusion}

\section{Permutations and Derangements}
\includelectureSub{Permutations_Derangements}

\section{Preparation Tasks 1}
\includelectureSub{Preparation_tasks1}

\section{Functions Between Sets}
\includelectureNoHeader{Functions_between_sets}

\section{Generating functions}
\includelectureSub{Generating_functions}

\section{Catalan Numbers}
\includelectureSub{Catalan_Numbers}

\newpage             % Forces a new page
\tableofcontents
\clearpage 

\end{document}

